function surroundWithTag(e,n,t){return"<"+n+" "+t+">"+e+"</"+n+">"}var tocCache=null;function buildTocIndex(){if(tocCache)return tocCache;if("undefined"==typeof rootDb)return null;tocCache={items:{},hierarchy:[]};var e=window.location.pathname;e.startsWith("/")&&(e=e.substring(1));var n=e.replace("/index.html","").replace("index.html","");function t(r,i){if(!r.Title||0==r.Title.length)return"";if(r.URL&&r.URL.includes("#"))return"";var o=r.URL.replace("/index.html","").replace("index.html",""),d=-1!=e.indexOf(o),a=n==o,c=!1;if(r.Children&&r.Children.length>0){c=!0;for(var l=0;l<r.Children.length;l++)if(!r.Children[l].URL||!r.Children[l].URL.includes("#")){c=!1;break}}var h=r.Colour||"#666666",u=a?'class="selected_details"':"",s=c?'class="has-anchors"':"",f=surroundWithTag(r.Title,"a","href='"+r.URL+"'"),C=surroundWithTag(f,"summary",u+' style="border-left: 3px solid '+h+';"');if(r.Children&&r.Children.length>0)for(l=0;l<r.Children.length;l++)C+=t(r.Children[l],i+1);return surroundWithTag(C+="\n","details",(d?"open ":"")+s)}if(rootDb.Children&&rootDb.Children.length>0)for(var r=0;r<rootDb.Children.length;r++)tocCache.hierarchy.push(t(rootDb.Children[r],0));return tocCache}function renderTOC(){if("undefined"!=typeof rootDb){var e=document.getElementById("toc-container");if(e){var n=performance.now(),t=buildTocIndex();if(t){e.innerHTML=t.hierarchy.join("");(performance.now()-n).toFixed(1)}}}}function initMobileSidebar(){var e=document.querySelector(".toc"),n=document.getElementById("nav-button");if(e&&n){n.addEventListener("click",function(){e.classList.toggle("open")}),document.body.addEventListener("click",function(t){t.target===n||e.contains(t.target)||e.classList.remove("open")});var t={},r={};document.body.addEventListener("touchstart",function(e){t.x=e.changedTouches[0].clientX,t.y=e.changedTouches[0].clientY}),document.body.addEventListener("touchend",function(n){r.y=n.changedTouches[0].clientY,r.x=n.changedTouches[0].clientX;var i=r.x-t.x,o=r.y-t.y;Math.abs(i)>Math.abs(o)&&(i>0&&t.x<=80?e.classList.add("open"):e.classList.remove("open"))})}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",renderTOC):renderTOC(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initMobileSidebar):initMobileSidebar();